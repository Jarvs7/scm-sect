{"ast":null,"code":"// ✅ frontend/src/components/Status/services/viagemService.js\nimport api from \"../../../utils/api\";\nimport { getSocket } from \"../../../utils/socket\";\n\n// Carrega tudo\nexport const carregarDados = async () => {\n  const [estatisticas, viagens, motoristas, veiculos] = await Promise.all([api.get(\"/viagens/estatisticas\"), api.get(\"/viagens\"), api.get(\"/viagens/motoristas\"), api.get(\"/viagens/veiculos\")]);\n  return {\n    estatisticas: estatisticas.data,\n    viagens: viagens.data,\n    motoristas: motoristas.data,\n    veiculos: veiculos.data\n  };\n};\n\n// Finaliza uma viagem\nexport const finalizarViagem = async id => {\n  const response = await api.put(`/viagens/${id}/finalizar`);\n  if (response.data.success) {\n    const socket = getSocket();\n    socket.emit(\"viagem_finalizada\", response.data.viagem);\n  }\n  return response.data;\n};\nexport { getSocket };","map":{"version":3,"names":["api","getSocket","carregarDados","estatisticas","viagens","motoristas","veiculos","Promise","all","get","data","finalizarViagem","id","response","put","success","socket","emit","viagem"],"sources":["D:/sistema-chamados/frontend/src/components/Status/services/viagemService.js"],"sourcesContent":["// ✅ frontend/src/components/Status/services/viagemService.js\r\nimport api from \"../../../utils/api\";\r\nimport { getSocket } from \"../../../utils/socket\";\r\n\r\n// Carrega tudo\r\nexport const carregarDados = async () => {\r\n  const [estatisticas, viagens, motoristas, veiculos] = await Promise.all([\r\n    api.get(\"/viagens/estatisticas\"),\r\n    api.get(\"/viagens\"),\r\n    api.get(\"/viagens/motoristas\"),\r\n    api.get(\"/viagens/veiculos\"),\r\n  ]);\r\n\r\n  return {\r\n    estatisticas: estatisticas.data,\r\n    viagens: viagens.data,\r\n    motoristas: motoristas.data,\r\n    veiculos: veiculos.data,\r\n  };\r\n};\r\n\r\n// Finaliza uma viagem\r\nexport const finalizarViagem = async (id) => {\r\n  const response = await api.put(`/viagens/${id}/finalizar`);\r\n  if (response.data.success) {\r\n    const socket = getSocket();\r\n    socket.emit(\"viagem_finalizada\", response.data.viagem);\r\n  }\r\n  return response.data;\r\n};\r\n\r\nexport { getSocket };\r\n"],"mappings":"AAAA;AACA,OAAOA,GAAG,MAAM,oBAAoB;AACpC,SAASC,SAAS,QAAQ,uBAAuB;;AAEjD;AACA,OAAO,MAAMC,aAAa,GAAG,MAAAA,CAAA,KAAY;EACvC,MAAM,CAACC,YAAY,EAAEC,OAAO,EAAEC,UAAU,EAAEC,QAAQ,CAAC,GAAG,MAAMC,OAAO,CAACC,GAAG,CAAC,CACtER,GAAG,CAACS,GAAG,CAAC,uBAAuB,CAAC,EAChCT,GAAG,CAACS,GAAG,CAAC,UAAU,CAAC,EACnBT,GAAG,CAACS,GAAG,CAAC,qBAAqB,CAAC,EAC9BT,GAAG,CAACS,GAAG,CAAC,mBAAmB,CAAC,CAC7B,CAAC;EAEF,OAAO;IACLN,YAAY,EAAEA,YAAY,CAACO,IAAI;IAC/BN,OAAO,EAAEA,OAAO,CAACM,IAAI;IACrBL,UAAU,EAAEA,UAAU,CAACK,IAAI;IAC3BJ,QAAQ,EAAEA,QAAQ,CAACI;EACrB,CAAC;AACH,CAAC;;AAED;AACA,OAAO,MAAMC,eAAe,GAAG,MAAOC,EAAE,IAAK;EAC3C,MAAMC,QAAQ,GAAG,MAAMb,GAAG,CAACc,GAAG,CAAC,YAAYF,EAAE,YAAY,CAAC;EAC1D,IAAIC,QAAQ,CAACH,IAAI,CAACK,OAAO,EAAE;IACzB,MAAMC,MAAM,GAAGf,SAAS,CAAC,CAAC;IAC1Be,MAAM,CAACC,IAAI,CAAC,mBAAmB,EAAEJ,QAAQ,CAACH,IAAI,CAACQ,MAAM,CAAC;EACxD;EACA,OAAOL,QAAQ,CAACH,IAAI;AACtB,CAAC;AAED,SAAST,SAAS","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}