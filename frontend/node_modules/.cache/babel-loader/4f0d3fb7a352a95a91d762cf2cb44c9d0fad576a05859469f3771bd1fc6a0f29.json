{"ast":null,"code":"var _s = $RefreshSig$();\nimport { useState, useEffect, useCallback } from \"react\";\nimport axios from \"axios\";\nconst api = axios.create({\n  baseURL: process.env.REACT_APP_API_URL || \"http://localhost:1120/api\",\n  withCredentials: true\n});\napi.interceptors.request.use(config => {\n  const token = localStorage.getItem(\"token\");\n  if (token) {\n    config.headers.Authorization = `Bearer ${token}`;\n  }\n  return config;\n}, error => Promise.reject(error));\nexport const useViagemForm = socket => {\n  _s();\n  const [formData, setFormData] = useState({\n    motorista: \"\",\n    veiculo: \"\",\n    local: \"\",\n    passageiros: \"\",\n    setor: \"\",\n    \"saida-data\": new Date().toISOString().split(\"T\")[0],\n    \"saida-hora\": \"\",\n    observacoes: \"\",\n    tipo: \"\"\n  });\n  const [motoristas, setMotoristas] = useState([]);\n  const [veiculos, setVeiculos] = useState([]);\n  const [viagensPendentes, setViagensPendentes] = useState([]);\n  const [loading, setLoading] = useState(false);\n  const [formErrors, setFormErrors] = useState({});\n  const [submitSuccess, setSubmitSuccess] = useState(false);\n\n  // Carrega dados iniciais\n  useEffect(() => {\n    const carregarDados = async () => {\n      try {\n        setLoading(true);\n        const [motoristasRes, veiculosRes, viagensRes] = await Promise.all([api.get(\"/motoristas/disponiveis\"), api.get(\"/veiculos/disponiveis\"), api.get(\"/viagens/pendentes\")]);\n        setMotoristas(motoristasRes.data);\n        setVeiculos(veiculosRes.data);\n        setViagensPendentes(viagensRes.data);\n      } catch (error) {\n        console.error(\"Erro ao carregar dados:\", error);\n      } finally {\n        setLoading(false);\n      }\n    };\n    carregarDados();\n\n    // Configura listeners do socket\n    const listeners = {\n      atualizarMotoristas: data => setMotoristas(data),\n      atualizarVeiculos: data => setVeiculos(data),\n      novaSolicitacaoViagem: data => setViagensPendentes(prev => [...prev, data])\n    };\n    Object.entries(listeners).forEach(([event, handler]) => {\n      socket.on(event, handler);\n    });\n    return () => {\n      Object.keys(listeners).forEach(event => socket.off(event));\n    };\n  }, [socket]);\n\n  // Valida√ß√£o de campos\n  const validateField = useCallback((name, value, currentFormData) => {\n    switch (name) {\n      case \"local\":\n      case \"setor\":\n        return !(value !== null && value !== void 0 && value.trim()) ? \"Campo obrigat√≥rio\" : \"\";\n      case \"passageiros\":\n        if (!value) return \"Informe o n√∫mero\";\n        if (isNaN(value)) return \"Deve ser um n√∫mero\";\n        if (value < 1 || value > 4) return \"Entre 1 e 4\";\n        return \"\";\n      case \"saida-data\":\n        if (!value) return \"Informe a data\";\n        if (currentFormData.tipo === \"urgente\") {\n          const hoje = new Date().toISOString().split(\"T\")[0];\n          if (value !== hoje) return \"Urgente deve ser hoje\";\n        }\n        return \"\";\n      case \"saida-hora\":\n        if (!value) return \"Informe o hor√°rio\";\n        return \"\";\n      case \"observacoes\":\n        if (currentFormData.tipo === \"urgente\" && !(value !== null && value !== void 0 && value.trim())) {\n          return \"Justifique a urg√™ncia (m√≠n. 10 caracteres)\";\n        }\n        return \"\";\n      default:\n        return \"\";\n    }\n  }, []);\n\n  // Manipuladores de eventos\n  const handleChange = e => {\n    const {\n      name,\n      value\n    } = e.target;\n    setFormData(prev => ({\n      ...prev,\n      [name]: value\n    }));\n    if (formErrors[name]) setFormErrors(prev => ({\n      ...prev,\n      [name]: \"\"\n    }));\n  };\n  const handleBlur = e => {\n    const {\n      name,\n      value\n    } = e.target;\n    setFormErrors(prev => ({\n      ...prev,\n      [name]: validateField(name, value, formData)\n    }));\n  };\n\n  // Submiss√£o do formul√°rio\n  const handleSubmit = async (e, overrideData) => {\n    e.preventDefault();\n    setLoading(true);\n    setSubmitSuccess(false);\n    const submissionData = overrideData || formData;\n    const errors = {};\n\n    // üîç Valida√ß√£o completa dos campos\n    Object.keys(submissionData).forEach(key => {\n      if (![\"motorista\", \"veiculo\"].includes(key)) {\n        const error = validateField(key, submissionData[key], submissionData);\n        if (error) errors[key] = error;\n      }\n    });\n\n    // ‚ùå Se houver erros, atualiza e cancela envio\n    if (Object.keys(errors).length > 0) {\n      setFormErrors(errors);\n      setLoading(false);\n      return;\n    }\n    try {\n      const user = JSON.parse(localStorage.getItem(\"user\") || {});\n      const saida = new Date(`${submissionData[\"saida-data\"]}T${submissionData[\"saida-hora\"]}`);\n\n      // üì¶ Monta o objeto da viagem\n      const viagemData = {\n        ...submissionData,\n        saida,\n        solicitadoPor: user._id,\n        status: \"pendente\"\n      };\n\n      // ‚úÖ REMOVE campos se estiverem vazios para evitar erro de cast do Mongo\n      if (!viagemData.motorista) delete viagemData.motorista;\n      if (!viagemData.veiculo) delete viagemData.veiculo;\n\n      // üì° Envia para o backend\n      const response = await api.post(\"/viagens\", viagemData);\n      if (response.data.success) {\n        setSubmitSuccess(true);\n        setFormData({\n          motorista: \"\",\n          veiculo: \"\",\n          local: \"\",\n          passageiros: \"\",\n          setor: \"\",\n          \"saida-data\": new Date().toISOString().split(\"T\")[0],\n          \"saida-hora\": \"\",\n          observacoes: \"\",\n          tipo: \"\"\n        });\n\n        // üîî Notifica via socket que h√° uma nova solicita√ß√£o\n        socket.emit(\"novaSolicitacaoViagem\", response.data.viagem);\n      }\n    } catch (error) {\n      var _error$response, _error$response$data;\n      console.error(\"Erro ao solicitar viagem:\", error);\n      alert(((_error$response = error.response) === null || _error$response === void 0 ? void 0 : (_error$response$data = _error$response.data) === null || _error$response$data === void 0 ? void 0 : _error$response$data.message) || \"Erro ao enviar solicita√ß√£o\");\n    } finally {\n      setLoading(false);\n    }\n  };\n\n  // ‚úÖ Exporta o hook com os dados e m√©todos\n  return {\n    formData,\n    setFormData,\n    formErrors,\n    setFormErrors,\n    loading,\n    submitSuccess,\n    motoristas,\n    veiculos,\n    viagensPendentes,\n    handleChange,\n    handleBlur,\n    handleSubmit,\n    validateField\n  };\n};\n_s(useViagemForm, \"Kft5mZMm/F0RXz9HyP3kV22pcyM=\");","map":{"version":3,"names":["useState","useEffect","useCallback","axios","api","create","baseURL","process","env","REACT_APP_API_URL","withCredentials","interceptors","request","use","config","token","localStorage","getItem","headers","Authorization","error","Promise","reject","useViagemForm","socket","_s","formData","setFormData","motorista","veiculo","local","passageiros","setor","Date","toISOString","split","observacoes","tipo","motoristas","setMotoristas","veiculos","setVeiculos","viagensPendentes","setViagensPendentes","loading","setLoading","formErrors","setFormErrors","submitSuccess","setSubmitSuccess","carregarDados","motoristasRes","veiculosRes","viagensRes","all","get","data","console","listeners","atualizarMotoristas","atualizarVeiculos","novaSolicitacaoViagem","prev","Object","entries","forEach","event","handler","on","keys","off","validateField","name","value","currentFormData","trim","isNaN","hoje","handleChange","e","target","handleBlur","handleSubmit","overrideData","preventDefault","submissionData","errors","key","includes","length","user","JSON","parse","saida","viagemData","solicitadoPor","_id","status","response","post","success","emit","viagem","_error$response","_error$response$data","alert","message"],"sources":["D:/sistema-chamados/frontend/src/hooks/useViagemForm.js"],"sourcesContent":["import { useState, useEffect, useCallback } from \"react\";\r\nimport axios from \"axios\";\r\n\r\nconst api = axios.create({\r\n  baseURL: process.env.REACT_APP_API_URL || \"http://localhost:1120/api\",\r\n  withCredentials: true,\r\n});\r\n\r\napi.interceptors.request.use(\r\n  (config) => {\r\n    const token = localStorage.getItem(\"token\");\r\n    if (token) {\r\n      config.headers.Authorization = `Bearer ${token}`;\r\n    }\r\n    return config;\r\n  },\r\n  (error) => Promise.reject(error)\r\n);\r\n\r\nexport const useViagemForm = (socket) => {\r\n  const [formData, setFormData] = useState({\r\n    motorista: \"\",\r\n    veiculo: \"\",\r\n    local: \"\",\r\n    passageiros: \"\",\r\n    setor: \"\",\r\n    \"saida-data\": new Date().toISOString().split(\"T\")[0],\r\n    \"saida-hora\": \"\",\r\n    observacoes: \"\",\r\n    tipo: \"\",\r\n  });\r\n\r\n  const [motoristas, setMotoristas] = useState([]);\r\n  const [veiculos, setVeiculos] = useState([]);\r\n  const [viagensPendentes, setViagensPendentes] = useState([]);\r\n  const [loading, setLoading] = useState(false);\r\n  const [formErrors, setFormErrors] = useState({});\r\n  const [submitSuccess, setSubmitSuccess] = useState(false);\r\n\r\n  // Carrega dados iniciais\r\n  useEffect(() => {\r\n    const carregarDados = async () => {\r\n      try {\r\n        setLoading(true);\r\n        const [motoristasRes, veiculosRes, viagensRes] = await Promise.all([\r\n          api.get(\"/motoristas/disponiveis\"),\r\n          api.get(\"/veiculos/disponiveis\"),\r\n          api.get(\"/viagens/pendentes\"),\r\n        ]);\r\n        setMotoristas(motoristasRes.data);\r\n        setVeiculos(veiculosRes.data);\r\n        setViagensPendentes(viagensRes.data);\r\n      } catch (error) {\r\n        console.error(\"Erro ao carregar dados:\", error);\r\n      } finally {\r\n        setLoading(false);\r\n      }\r\n    };\r\n    carregarDados();\r\n\r\n    // Configura listeners do socket\r\n    const listeners = {\r\n      atualizarMotoristas: (data) => setMotoristas(data),\r\n      atualizarVeiculos: (data) => setVeiculos(data),\r\n      novaSolicitacaoViagem: (data) =>\r\n        setViagensPendentes((prev) => [...prev, data]),\r\n    };\r\n\r\n    Object.entries(listeners).forEach(([event, handler]) => {\r\n      socket.on(event, handler);\r\n    });\r\n\r\n    return () => {\r\n      Object.keys(listeners).forEach((event) => socket.off(event));\r\n    };\r\n  }, [socket]);\r\n\r\n  // Valida√ß√£o de campos\r\n  const validateField = useCallback((name, value, currentFormData) => {\r\n    switch (name) {\r\n      case \"local\":\r\n      case \"setor\":\r\n        return !value?.trim() ? \"Campo obrigat√≥rio\" : \"\";\r\n\r\n      case \"passageiros\":\r\n        if (!value) return \"Informe o n√∫mero\";\r\n        if (isNaN(value)) return \"Deve ser um n√∫mero\";\r\n        if (value < 1 || value > 4) return \"Entre 1 e 4\";\r\n        return \"\";\r\n\r\n      case \"saida-data\":\r\n        if (!value) return \"Informe a data\";\r\n        if (currentFormData.tipo === \"urgente\") {\r\n          const hoje = new Date().toISOString().split(\"T\")[0];\r\n          if (value !== hoje) return \"Urgente deve ser hoje\";\r\n        }\r\n        return \"\";\r\n\r\n      case \"saida-hora\":\r\n        if (!value) return \"Informe o hor√°rio\";\r\n        return \"\";\r\n\r\n      case \"observacoes\":\r\n        if (currentFormData.tipo === \"urgente\" && !value?.trim()) {\r\n          return \"Justifique a urg√™ncia (m√≠n. 10 caracteres)\";\r\n        }\r\n        return \"\";\r\n\r\n      default:\r\n        return \"\";\r\n    }\r\n  }, []);\r\n\r\n  // Manipuladores de eventos\r\n  const handleChange = (e) => {\r\n    const { name, value } = e.target;\r\n    setFormData((prev) => ({ ...prev, [name]: value }));\r\n    if (formErrors[name]) setFormErrors((prev) => ({ ...prev, [name]: \"\" }));\r\n  };\r\n\r\n  const handleBlur = (e) => {\r\n    const { name, value } = e.target;\r\n    setFormErrors((prev) => ({\r\n      ...prev,\r\n      [name]: validateField(name, value, formData),\r\n    }));\r\n  };\r\n\r\n  // Submiss√£o do formul√°rio\r\n  const handleSubmit = async (e, overrideData) => {\r\n    e.preventDefault();\r\n    setLoading(true);\r\n    setSubmitSuccess(false);\r\n\r\n    const submissionData = overrideData || formData;\r\n    const errors = {};\r\n\r\n    // üîç Valida√ß√£o completa dos campos\r\n    Object.keys(submissionData).forEach((key) => {\r\n      if (![\"motorista\", \"veiculo\"].includes(key)) {\r\n        const error = validateField(key, submissionData[key], submissionData);\r\n        if (error) errors[key] = error;\r\n      }\r\n    });\r\n\r\n    // ‚ùå Se houver erros, atualiza e cancela envio\r\n    if (Object.keys(errors).length > 0) {\r\n      setFormErrors(errors);\r\n      setLoading(false);\r\n      return;\r\n    }\r\n\r\n    try {\r\n      const user = JSON.parse(localStorage.getItem(\"user\") || {});\r\n      const saida = new Date(\r\n        `${submissionData[\"saida-data\"]}T${submissionData[\"saida-hora\"]}`\r\n      );\r\n\r\n      // üì¶ Monta o objeto da viagem\r\n      const viagemData = {\r\n        ...submissionData,\r\n        saida,\r\n        solicitadoPor: user._id,\r\n        status: \"pendente\",\r\n      };\r\n\r\n      // ‚úÖ REMOVE campos se estiverem vazios para evitar erro de cast do Mongo\r\n      if (!viagemData.motorista) delete viagemData.motorista;\r\n      if (!viagemData.veiculo) delete viagemData.veiculo;\r\n\r\n      // üì° Envia para o backend\r\n      const response = await api.post(\"/viagens\", viagemData);\r\n\r\n      if (response.data.success) {\r\n        setSubmitSuccess(true);\r\n        setFormData({\r\n          motorista: \"\",\r\n          veiculo: \"\",\r\n          local: \"\",\r\n          passageiros: \"\",\r\n          setor: \"\",\r\n          \"saida-data\": new Date().toISOString().split(\"T\")[0],\r\n          \"saida-hora\": \"\",\r\n          observacoes: \"\",\r\n          tipo: \"\",\r\n        });\r\n\r\n        // üîî Notifica via socket que h√° uma nova solicita√ß√£o\r\n        socket.emit(\"novaSolicitacaoViagem\", response.data.viagem);\r\n      }\r\n    } catch (error) {\r\n      console.error(\"Erro ao solicitar viagem:\", error);\r\n      alert(error.response?.data?.message || \"Erro ao enviar solicita√ß√£o\");\r\n    } finally {\r\n      setLoading(false);\r\n    }\r\n  };\r\n\r\n  // ‚úÖ Exporta o hook com os dados e m√©todos\r\n  return {\r\n    formData,\r\n    setFormData,\r\n    formErrors,\r\n    setFormErrors, \r\n    loading,\r\n    submitSuccess,\r\n    motoristas,\r\n    veiculos,\r\n    viagensPendentes,\r\n    handleChange,\r\n    handleBlur,\r\n    handleSubmit,\r\n    validateField,\r\n  };\r\n  \r\n};\r\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}