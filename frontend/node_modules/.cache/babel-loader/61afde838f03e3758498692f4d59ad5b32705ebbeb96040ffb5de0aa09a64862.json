{"ast":null,"code":"import React from'react';import'../../styles/Status/status.css';import{jsx as _jsx,jsxs as _jsxs}from\"react/jsx-runtime\";const MotoristasList=_ref=>{let{motoristas=[],viagensAtivas=[],totalMotoristas=0}=_ref;const estaEmViagem=motorista=>{if(!motorista||typeof motorista!=='object'||!motorista._id){return false;}const status=motorista.status||'disponivel';if(status===\"em_viagem\"){return true;}if(Array.isArray(viagensAtivas)){return viagensAtivas.some(v=>{var _v$motorista;return(v===null||v===void 0?void 0:(_v$motorista=v.motorista)===null||_v$motorista===void 0?void 0:_v$motorista._id)===motorista._id;});}return false;};const motoristasValidos=Array.isArray(motoristas)?motoristas.filter(m=>m&&typeof m==='object'&&m._id):[];const motoristasDisponiveis=motoristasValidos.filter(m=>!estaEmViagem(m)).length;const percentualDisponivel=totalMotoristas>0?Math.round(motoristasDisponiveis/totalMotoristas*100):0;return/*#__PURE__*/_jsx(\"div\",{className:\"col-md-6\",children:/*#__PURE__*/_jsxs(\"div\",{className:\"card mb-4 shadow-sm h-100\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"card-header bg-warning text-dark\",children:[\" \",/*#__PURE__*/_jsxs(\"div\",{className:\"d-flex justify-content-between align-items-center\",children:[/*#__PURE__*/_jsxs(\"h5\",{className:\"mb-0\",children:[/*#__PURE__*/_jsx(\"i\",{className:\"fas fa-users me-2\"}),\"Status dos Motoristas\"]}),/*#__PURE__*/_jsxs(\"div\",{className:\"d-flex align-items-center\",children:[/*#__PURE__*/_jsxs(\"span\",{className:\"badge bg-light text-dark me-2\",children:[motoristasDisponiveis,\"/\",motoristasValidos.length,\" dispon\\xEDveis\"]}),/*#__PURE__*/_jsx(\"div\",{className:\"progress\",style:{width:'80px',height:'20px'},children:/*#__PURE__*/_jsxs(\"div\",{className:\"progress-bar bg-success\",role:\"progressbar\",style:{width:`${percentualDisponivel}%`},\"aria-valuenow\":percentualDisponivel,\"aria-valuemin\":\"0\",\"aria-valuemax\":\"100\",children:[percentualDisponivel,\"%\"]})})]})]})]}),/*#__PURE__*/_jsx(\"div\",{className:\"card-body p-0\",children:/*#__PURE__*/_jsx(\"div\",{className:\"list-group list-group-flush\",children:motoristasValidos.length===0?/*#__PURE__*/_jsxs(\"div\",{className:\"text-center text-muted p-4\",children:[/*#__PURE__*/_jsx(\"i\",{className:\"fas fa-info-circle me-2\"}),\"Nenhum motorista cadastrado\"]}):motoristasValidos.map(motorista=>{const motoristaSeguro={_id:motorista._id||'',nome:motorista.nome||'Nome não disponível',cnh:motorista.cnh||'CNH não informada',status:motorista.status||'disponivel',categoriaCnh:motorista.categoriaCnh||'N/A'};const emViagem=estaEmViagem(motoristaSeguro);return/*#__PURE__*/_jsx(\"div\",{className:`list-group-item list-group-item-action ${emViagem?'list-group-item-warning':''}`,children:/*#__PURE__*/_jsxs(\"div\",{className:\"d-flex justify-content-between align-items-center\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"flex-grow-1\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"d-flex justify-content-between\",children:[/*#__PURE__*/_jsx(\"h6\",{className:\"mb-1 fw-bold\",children:motoristaSeguro.nome}),/*#__PURE__*/_jsx(\"span\",{className:`badge ${emViagem?'bg-warning':'bg-success'}`,children:emViagem?'Em viagem':'Disponível'})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"d-flex flex-wrap gap-3 mt-2\",children:[/*#__PURE__*/_jsxs(\"small\",{className:\"text-muted\",children:[/*#__PURE__*/_jsx(\"i\",{className:\"fas fa-id-card me-1\"}),\" \",motoristaSeguro.cnh]}),/*#__PURE__*/_jsxs(\"small\",{className:\"text-muted\",children:[/*#__PURE__*/_jsx(\"i\",{className:\"fas fa-tag me-1\"}),\" \",motoristaSeguro.categoriaCnh]})]})]}),/*#__PURE__*/_jsx(\"i\",{className:`fas fa-${emViagem?'car':'user-check'} ms-2 ${emViagem?'text-warning':'text-success'}`})]})},motoristaSeguro._id);})})})]})});};MotoristasList.defaultProps={motoristas:[],viagensAtivas:[],totalMotoristas:0};export default MotoristasList;","map":null,"metadata":{},"sourceType":"module","externalDependencies":[]}