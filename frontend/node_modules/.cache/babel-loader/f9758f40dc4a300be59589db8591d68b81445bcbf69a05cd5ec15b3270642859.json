{"ast":null,"code":"import React from\"react\";import{BrowserRouter as Router,Routes,Route,Navigate}from\"react-router-dom\";// Componentes\nimport Menu from\"./components/Menu/Menu.jsx\";import ProtectedRoute from\"./components/ProtectedRoute\";import LoginPage from\"./pages/LoginPage\";import RelatoriosPage from\"./pages/RelatoriosPage.jsx\";import StatusPage from\"./pages/StatusPage\";import SolicitacaoPage from\"./components/SolicitarViagem/SolicitacaoPage.jsx\";import RegistroViagemPage from\"./pages/RegistroViagemPage\";import TransportRoute from\"./components/TransportRoute\";// Redirecionador inteligente\nimport{jsx as _jsx,Fragment as _Fragment,jsxs as _jsxs}from\"react/jsx-runtime\";const RedirectHome=()=>{var _user$setor;const user=JSON.parse(localStorage.getItem(\"user\"));const isAdmin=(user===null||user===void 0?void 0:user.role)===\"admin\";const isTransporte=(user===null||user===void 0?void 0:(_user$setor=user.setor)===null||_user$setor===void 0?void 0:_user$setor.toLowerCase())===\"transporte\";if(isAdmin||isTransporte){return/*#__PURE__*/_jsx(Navigate,{to:\"/solicitar-viagem\",replace:true});}};function App(){return/*#__PURE__*/_jsx(Router,{children:/*#__PURE__*/_jsxs(Routes,{children:[/*#__PURE__*/_jsx(Route,{path:\"/login\",element:/*#__PURE__*/_jsx(LoginPage,{})}),/*#__PURE__*/_jsxs(Route,{element:/*#__PURE__*/_jsx(ProtectedRoute,{}),children:[/*#__PURE__*/_jsx(Route,{path:\"/\",element:/*#__PURE__*/_jsx(RedirectHome,{})}),/*#__PURE__*/_jsx(Route,{element:/*#__PURE__*/_jsx(TransportRoute,{}),children:/*#__PURE__*/_jsx(Route,{path:\"/registro-viagem\",element:/*#__PURE__*/_jsxs(_Fragment,{children:[/*#__PURE__*/_jsx(Menu,{visible:true}),/*#__PURE__*/_jsx(RegistroViagemPage,{})]})})}),/*#__PURE__*/_jsx(Route,{path:\"/solicitar-viagem\",element:/*#__PURE__*/_jsxs(_Fragment,{children:[/*#__PURE__*/_jsx(Menu,{visible:true}),/*#__PURE__*/_jsx(SolicitacaoPage,{})]})}),/*#__PURE__*/_jsx(Route,{path:\"/relatorios\",element:/*#__PURE__*/_jsxs(_Fragment,{children:[/*#__PURE__*/_jsx(Menu,{visible:true}),/*#__PURE__*/_jsx(RelatoriosPage,{})]})}),/*#__PURE__*/_jsx(Route,{path:\"/status\",element:/*#__PURE__*/_jsxs(_Fragment,{children:[/*#__PURE__*/_jsx(Menu,{visible:true}),/*#__PURE__*/_jsx(StatusPage,{})]})})]}),/*#__PURE__*/_jsx(Route,{path:\"*\",element:/*#__PURE__*/_jsx(Navigate,{to:\"/login\",replace:true})})]})});}export default App;","map":null,"metadata":{},"sourceType":"module","externalDependencies":[]}